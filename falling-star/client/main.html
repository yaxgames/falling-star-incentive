<head>
  <title>Falling Star Blog</title>
</head>

<body>
<!--Clever play on words for MeteorJS-->
<div class="text-center">
  <h1>Welcome to the Falling Star Blog</h1>
  {{>login}}
  {{>userregister}}
  {{>blogcreate}}
  {{>blogdisplay}}
</div>
</body>

<template name="login">
{{#if nouser}}
<form class="login">
  <span>User name: </span><input name = "user" type = "text" class = "form-control"/>
  <span>Password: </span><input name = "pass" type = "password" class = "form-control"/>  
  <input type = "submit" value = "Log in" class = "btn btn-primary"/>
</form>
{{/if}}
  <hr>
</template>

<template name="blogdisplay">
<!--Loads the blog publicly-->
  <h2 class = "blogtop">Falling Star Blog</h2>
  {{#each Blogs}}
	<hr>
	<h3>{{title}}</h3>
	<p>{{description}}</p>
	<kbd>By: {{username}} on {{dateformat datetime}}</kbd>
	<hr>
	<!--checks if the same user who made the blog is able to remove or edit-->
	{{#if sameuser userid}}
	<!--Remove Blog-->
	<input id = "remove" class ="btn btn-danger btn-sm" type = "button" value = "remove"/>
	<input id = "edit" class ="btn btn-info btn-sm" type = "button" value = "edit blog"/>
	<hr>
	<!--edit the blog-->
	{{#if editdisplay}}
	<form class ="blogedit">
		<span>Title: </span><input name = "title" class = "form-control"/><br>
		<span>Description: </span><input name = "desc" class = "form-control"/><br>  
		<input type = "submit" value = "edit" class = "btn btn-info"/>
		<hr>
	</form>
	{{/if}}
	{{/if}}
  {{/each}}
</template>

<template name="blogcreate">
<!--enter the blog-->
{{#if userlogged}}
<hr>
<form class ="blogcreate">
  <span>Title: </span><input name = "title" class = "form-control"/><br>
  <span>Description: </span><input name = "desc" class = "form-control"/><br>  
  <input type = "submit" value = "create" class = "btn btn-info"/>
  <hr>
</form>
{{/if}}
</template>

<template name="userregister">
<!--register new user-->
{{#if nouser}}
<div class="register">
	<a href="#" >Register</a>
</div>
{{#if registerdisplay}}
<form class ="userregister">
  <span>Name (First and Last): </span><input type="text" name = "name" class = "form-control"/>
  <span>Username: </span><input type="text" name = "user" class = "form-control"/>  
  <span>Password: </span><input type="password" name = "pass" class = "form-control"/>  
  <span>Description: </span><input type="text" name = "desc" class = "form-control"/>  
  <input type = "submit" value = "Register" class = "btn btn-info"/>
  <hr>
</form>
{{/if}}
{{/if}}
</template>

